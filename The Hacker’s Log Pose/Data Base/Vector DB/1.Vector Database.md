# Vector Database

## 1. What is a Vector Database?

- Traditional DBs store structured data (tables, JSON).
- **Vector DBs** store **vectors (embeddings)** â†’ numerical representations of text, images, audio, etc.
- Main purpose: **similarity search** (find "closest meaning").

ðŸ“Œ Example:

- Query: "King" â†’ Vector DB retrieves "Queen", "Prince", "Monarch" (semantic similarity).
- This is how **ChatGPT + RAG (Retrieval-Augmented Generation)** works.

---

## 2. Key Concepts

### ðŸ”¹ Embeddings

- Conversion of text/images into **vectors** using ML models.
- Example:
    - "Dog" â†’ `[0.12, 0.93, -0.44, ...]`
    - "Cat" â†’ `[0.11, 0.90, -0.40, ...]`
- Vectors close in space = semantically similar.

### ðŸ”¹ Similarity Metrics

- How closeness is measured:
    - **Cosine similarity** (angle between vectors).
    - **Euclidean distance** (straight-line distance).
    - **Dot product**.

### ðŸ”¹ Indexes for Fast Search

- Data structures for searching billions of vectors:
    - **HNSW (Hierarchical Navigable Small World graph)** â†’ fast & accurate.
    - **IVF (Inverted File Index)**.
    - **PQ (Product Quantization)**.

---

## 3. Vector DBs in Action

Workflow for RAG (Retrieval-Augmented Generation):

1. **Data ingestion** â†’ Store docs/images as vectors.
2. **Query embedding** â†’ Convert user query to vector.
3. **Similarity search** â†’ Find nearest vectors.
4. **LLM response** â†’ Use retrieved data to generate answer.

---

## 4. Popular Vector Databases

| DB | Features |
| --- | --- |
| **Pinecone** | Managed, scalable, easy API, SaaS only. |
| **Weaviate** | Open-source, supports hybrid (text + keyword) search. |
| **Milvus** | Open-source, supports billions of vectors, strong community. |
| **Chroma** | Lightweight, Python-based, often used in LangChain. |
| **Qdrant** | Rust-based, fast, supports payload (metadata with vectors). |
| **FAISS** | Library by Facebook, local (not full DB), fast indexing/search. |

---

## 5. CRUD in Vector DBs

(Simplified example using **Qdrant**)

### Insert (store vector + metadata)

```python
collection.insert([
  {
    "id": 1,
    "vector": [0.12, 0.93, -0.44, ...],
    "payload": {"text": "King"}
  }
])

```

### Search (find similar vectors)

```python
results = collection.search(
  vector=[0.11, 0.90, -0.40, ...],
  top=3
)

```

### Delete

```python
collection.delete(ids=[1])

```

---

## 6. Use Cases

- **Search engines** (semantic search, not keyword-based).
- **Chatbots** (RAG for context).
- **Recommendation systems** (similar movies, products, songs).
- **Fraud detection** (similar patterns in transactions).
- **Image/audio search**.

---

## 7. Vector DB vs Traditional DB

| Feature | Vector DBs | SQL/MongoDB |
| --- | --- | --- |
| Data Type | Vectors (high-dimensional numbers) | Structured/Unstructured data |
| Queries | Similarity search (top-k nearest) | Exact match / range queries |
| Indexing | HNSW, IVF, PQ | B-Trees, Hash indexes |
| Use Case | Semantic search, AI apps | CRUD apps, transactions |

---

## 8. Vector DBs + LLMs

- **LangChain / LlamaIndex** use Vector DBs for RAG pipelines.
- Flow:
    1. User asks â†’ Convert query to embedding.
    2. Vector DB search â†’ Retrieve relevant chunks.
    3. LLM â†’ Generates final answer.

---

## 9. Quick Example (Chroma + LangChain)

```python
from langchain.vectorstores import Chroma
from langchain.embeddings import OpenAIEmbeddings

embeddings = OpenAIEmbeddings()
texts = ["King is a ruler", "Queen is a monarch", "Apple is a fruit"]

db = Chroma.from_texts(texts, embeddings)
query = "Who rules a kingdom?"
results = db.similarity_search(query, k=2)

print(results)

```

---

âœ… With this, you have **all notes for Vector DBs**:

- Theory
- Indexing methods
- CRUD examples
- Use cases
- Integration with LLMs